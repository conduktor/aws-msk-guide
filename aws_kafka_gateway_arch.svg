<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: aws_kafka_gateway_arch_v5 Pages: 1 -->
<svg width="1480pt" height="334pt"
 viewBox="0.00 0.00 1480.00 334.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 330)">
<title>aws_kafka_gateway_arch_v5</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-330 1476,-330 1476,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_internet</title>
<polygon fill="none" stroke="#cbd5e0" points="50,-104 50,-256 207,-256 207,-104 50,-104"/>
<text text-anchor="middle" x="128.5" y="-242.4" font-family="Helvetica,sans-Serif" font-size="12.00">Internet</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_customer</title>
<polygon fill="none" stroke="#2563eb" points="449.5,-8 449.5,-295 1464,-295 1464,-8 449.5,-8"/>
<text text-anchor="middle" x="956.75" y="-280.6" font-family="Helvetica,sans-Serif" font-size="13.00">Customer AWS Account / VPC</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_pub</title>
<polygon fill="none" stroke="#93c5fd" points="457.5,-175 457.5,-265 1130,-265 1130,-175 457.5,-175"/>
<text text-anchor="middle" x="793.75" y="-252.2" font-family="Helvetica,sans-Serif" font-size="11.00">Public Subnets</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_priv</title>
<polygon fill="none" stroke="#93c5fd" points="703.5,-16 703.5,-167 1456,-167 1456,-16 703.5,-16"/>
<text text-anchor="middle" x="1079.75" y="-154.2" font-family="Helvetica,sans-Serif" font-size="11.00">Private Subnets</text>
</g>
<!-- users -->
<g id="node1" class="node">
<title>users</title>
<path fill="#f8fafc" stroke="#334155" d="M173.5,-148C173.5,-148 83.5,-148 83.5,-148 77.5,-148 71.5,-142 71.5,-136 71.5,-136 71.5,-124 71.5,-124 71.5,-118 77.5,-112 83.5,-112 83.5,-112 173.5,-112 173.5,-112 179.5,-112 185.5,-118 185.5,-124 185.5,-124 185.5,-136 185.5,-136 185.5,-142 179.5,-148 173.5,-148"/>
<text text-anchor="middle" x="128.5" y="-133.2" font-family="Helvetica,sans-Serif" font-size="11.00">End Users</text>
<text text-anchor="middle" x="128.5" y="-121.2" font-family="Helvetica,sans-Serif" font-size="11.00">(SSO / Corporate)</text>
</g>
<!-- alb_int -->
<g id="node6" class="node">
<title>alb_int</title>
<path fill="#eef2ff" stroke="#334155" d="M791.5,-139C791.5,-139 723.5,-139 723.5,-139 717.5,-139 711.5,-133 711.5,-127 711.5,-127 711.5,-115 711.5,-115 711.5,-109 717.5,-103 723.5,-103 723.5,-103 791.5,-103 791.5,-103 797.5,-103 803.5,-109 803.5,-115 803.5,-115 803.5,-127 803.5,-127 803.5,-133 797.5,-139 791.5,-139"/>
<text text-anchor="middle" x="757.5" y="-118.2" font-family="Helvetica,sans-Serif" font-size="11.00">ALB (Internal)</text>
</g>
<!-- users&#45;&gt;alb_int -->
<g id="edge1" class="edge">
<title>users&#45;&gt;alb_int</title>
<path fill="none" stroke="black" d="M185.69,-129.19C305.03,-127.48 582.51,-123.5 701.12,-121.79"/>
<polygon fill="black" stroke="black" points="701.47,-125.29 711.42,-121.65 701.37,-118.29 701.47,-125.29"/>
<text text-anchor="middle" x="500" y="-139" font-family="Times,serif" font-size="10.00">console.customer.com</text>
<text text-anchor="middle" x="500" y="-128" font-family="Times,serif" font-size="10.00">HTTPS (443)</text>
</g>
<!-- partners -->
<g id="node2" class="node">
<title>partners</title>
<path fill="#fffbeb" stroke="#334155" d="M187,-227C187,-227 70,-227 70,-227 64,-227 58,-221 58,-215 58,-215 58,-203 58,-203 58,-197 64,-191 70,-191 70,-191 187,-191 187,-191 193,-191 199,-197 199,-203 199,-203 199,-215 199,-215 199,-221 193,-227 187,-227"/>
<text text-anchor="middle" x="128.5" y="-212.2" font-family="Helvetica,sans-Serif" font-size="11.00">3rd&#45;Party Partner Apps</text>
<text text-anchor="middle" x="128.5" y="-200.2" font-family="Helvetica,sans-Serif" font-size="11.00">(Kafka clients)</text>
</g>
<!-- waf -->
<g id="node3" class="node">
<title>waf</title>
<path fill="#f1f5f9" stroke="#334155" d="M522.5,-233C522.5,-233 477.5,-233 477.5,-233 471.5,-233 465.5,-227 465.5,-221 465.5,-221 465.5,-209 465.5,-209 465.5,-203 471.5,-197 477.5,-197 477.5,-197 522.5,-197 522.5,-197 528.5,-197 534.5,-203 534.5,-209 534.5,-209 534.5,-221 534.5,-221 534.5,-227 528.5,-233 522.5,-233"/>
<text text-anchor="middle" x="500" y="-212.2" font-family="Helvetica,sans-Serif" font-size="11.00">AWS WAF</text>
</g>
<!-- partners&#45;&gt;waf -->
<g id="edge4" class="edge">
<title>partners&#45;&gt;waf</title>
<path fill="none" stroke="black" d="M199,-210.13C274.25,-211.35 391.98,-213.26 455.26,-214.29"/>
<polygon fill="black" stroke="black" points="455.25,-217.79 465.3,-214.45 455.36,-210.79 455.25,-217.79"/>
<text text-anchor="middle" x="350.5" y="-227" font-family="Times,serif" font-size="10.00">gateway.customer.com</text>
<text text-anchor="middle" x="350.5" y="-216" font-family="Times,serif" font-size="10.00">Kafka/TLS</text>
</g>
<!-- alb_ext -->
<g id="node4" class="node">
<title>alb_ext</title>
<path fill="#eef2ff" stroke="#334155" d="M811,-237C811,-237 704,-237 704,-237 698,-237 692,-231 692,-225 692,-225 692,-213 692,-213 692,-207 698,-201 704,-201 704,-201 811,-201 811,-201 817,-201 823,-207 823,-213 823,-213 823,-225 823,-225 823,-231 817,-237 811,-237"/>
<text text-anchor="middle" x="757.5" y="-216.2" font-family="Helvetica,sans-Serif" font-size="11.00">ALB (Internet&#45;facing)</text>
</g>
<!-- waf&#45;&gt;alb_ext -->
<g id="edge5" class="edge">
<title>waf&#45;&gt;alb_ext</title>
<path fill="none" stroke="black" d="M534.66,-215.53C571.86,-216.11 632.93,-217.07 681.58,-217.83"/>
<polygon fill="black" stroke="black" points="681.71,-221.33 691.76,-217.99 681.82,-214.33 681.71,-221.33"/>
<text text-anchor="middle" x="624" y="-219.8" font-family="Times,serif" font-size="9.00">L7 inspection</text>
</g>
<!-- gw_asg -->
<g id="node5" class="node">
<title>gw_asg</title>
<path fill="#e0f2fe" stroke="#334155" d="M1110,-237C1110,-237 949,-237 949,-237 943,-237 937,-231 937,-225 937,-225 937,-213 937,-213 937,-207 943,-201 949,-201 949,-201 1110,-201 1110,-201 1116,-201 1122,-207 1122,-213 1122,-213 1122,-225 1122,-225 1122,-231 1116,-237 1110,-237"/>
<text text-anchor="middle" x="1029.5" y="-216.2" font-family="Helvetica,sans-Serif" font-size="11.00">Conduktor Gateway (EC2 ASG)</text>
</g>
<!-- alb_ext&#45;&gt;gw_asg -->
<g id="edge6" class="edge">
<title>alb_ext&#45;&gt;gw_asg</title>
<path fill="none" stroke="black" d="M823.17,-219C854.13,-219 891.93,-219 926.61,-219"/>
<polygon fill="black" stroke="black" points="926.79,-222.5 936.79,-219 926.79,-215.5 926.79,-222.5"/>
<text text-anchor="middle" x="880" y="-222" font-family="Times,serif" font-size="10.00">TLS 443</text>
</g>
<!-- msk -->
<g id="node8" class="node">
<title>msk</title>
<path fill="#dcfce7" stroke="#334155" d="M1421.5,-60C1421.5,-60 1314.5,-60 1314.5,-60 1308.5,-60 1302.5,-54 1302.5,-48 1302.5,-48 1302.5,-36 1302.5,-36 1302.5,-30 1308.5,-24 1314.5,-24 1314.5,-24 1421.5,-24 1421.5,-24 1427.5,-24 1433.5,-30 1433.5,-36 1433.5,-36 1433.5,-48 1433.5,-48 1433.5,-54 1427.5,-60 1421.5,-60"/>
<text text-anchor="middle" x="1368" y="-39.2" font-family="Helvetica,sans-Serif" font-size="11.00">Amazon MSK (Kafka)</text>
</g>
<!-- gw_asg&#45;&gt;msk -->
<g id="edge7" class="edge">
<title>gw_asg&#45;&gt;msk</title>
<path fill="none" stroke="black" d="M1092.19,-200.99C1148.54,-183.69 1226.79,-157.26 1252,-137 1275.06,-118.46 1265.93,-100.71 1288,-81 1294.79,-74.94 1302.68,-69.59 1310.81,-64.95"/>
<polygon fill="black" stroke="black" points="1312.52,-68 1319.68,-60.19 1309.21,-61.83 1312.52,-68"/>
<text text-anchor="middle" x="1205" y="-180" font-family="Times,serif" font-size="10.00">Kafka (SASL_SSL)</text>
</g>
<!-- cw -->
<g id="node9" class="node">
<title>cw</title>
<path fill="#f1f5f9" stroke="#334155" d="M1436,-139C1436,-139 1300,-139 1300,-139 1294,-139 1288,-133 1288,-127 1288,-127 1288,-115 1288,-115 1288,-109 1294,-103 1300,-103 1300,-103 1436,-103 1436,-103 1442,-103 1448,-109 1448,-115 1448,-115 1448,-127 1448,-127 1448,-133 1442,-139 1436,-139"/>
<text text-anchor="middle" x="1368" y="-118.2" font-family="Helvetica,sans-Serif" font-size="11.00">CloudWatch / OpenSearch</text>
</g>
<!-- gw_asg&#45;&gt;cw -->
<g id="edge9" class="edge">
<title>gw_asg&#45;&gt;cw</title>
<path fill="none" stroke="#9ca3af" stroke-dasharray="5,2" d="M1122.08,-219.15C1162.84,-216.79 1210.82,-210.6 1252,-196 1284.07,-184.63 1316.14,-162.62 1338.23,-145.37"/>
<polygon fill="#9ca3af" stroke="#9ca3af" points="1340.55,-147.99 1346.19,-139.02 1336.19,-142.52 1340.55,-147.99"/>
<text text-anchor="middle" x="1205" y="-217.8" font-family="Times,serif" font-size="9.00">Gateway logs</text>
</g>
<!-- console -->
<g id="node7" class="node">
<title>console</title>
<path fill="#e0e7ff" stroke="#334155" d="M1077,-139C1077,-139 982,-139 982,-139 976,-139 970,-133 970,-127 970,-127 970,-115 970,-115 970,-109 976,-103 982,-103 982,-103 1077,-103 1077,-103 1083,-103 1089,-109 1089,-115 1089,-115 1089,-127 1089,-127 1089,-133 1083,-139 1077,-139"/>
<text text-anchor="middle" x="1029.5" y="-118.2" font-family="Helvetica,sans-Serif" font-size="11.00">Console (EKS/EC2)</text>
</g>
<!-- alb_int&#45;&gt;console -->
<g id="edge2" class="edge">
<title>alb_int&#45;&gt;console</title>
<path fill="none" stroke="black" d="M803.69,-121C846.3,-121 910.75,-121 959.73,-121"/>
<polygon fill="black" stroke="black" points="959.93,-124.5 969.93,-121 959.93,-117.5 959.93,-124.5"/>
<text text-anchor="middle" x="880" y="-124" font-family="Times,serif" font-size="10.00">HTTPS</text>
</g>
<!-- console&#45;&gt;msk -->
<g id="edge3" class="edge">
<title>console&#45;&gt;msk</title>
<path fill="none" stroke="black" d="M1089.11,-107.24C1145.57,-93.99 1231.19,-73.88 1292.46,-59.5"/>
<polygon fill="black" stroke="black" points="1293.53,-62.84 1302.46,-57.15 1291.93,-56.03 1293.53,-62.84"/>
<text text-anchor="middle" x="1205" y="-94" font-family="Times,serif" font-size="10.00">Kafka (SASL_SSL)</text>
</g>
<!-- console&#45;&gt;cw -->
<g id="edge8" class="edge">
<title>console&#45;&gt;cw</title>
<path fill="none" stroke="#9ca3af" stroke-dasharray="5,2" d="M1089.11,-121C1141.18,-121 1218.05,-121 1277.76,-121"/>
<polygon fill="#9ca3af" stroke="#9ca3af" points="1277.94,-124.5 1287.94,-121 1277.94,-117.5 1277.94,-124.5"/>
<text text-anchor="middle" x="1205" y="-123.8" font-family="Times,serif" font-size="9.00">App telemetry</text>
</g>
<!-- deploy_note -->
<g id="node10" class="node">
<title>deploy_note</title>
<polygon fill="#ecfdf5" stroke="#10b981" points="251,-326 0,-326 0,-270 257,-270 257,-320 251,-326"/>
<polyline fill="none" stroke="#10b981" points="251,-326 251,-320 "/>
<polyline fill="none" stroke="#10b981" points="257,-320 251,-320 "/>
<text text-anchor="middle" x="128.5" y="-313.2" font-family="Helvetica,sans-Serif" font-size="11.00">Deployment flexibility:</text>
<text text-anchor="middle" x="128.5" y="-301.2" font-family="Helvetica,sans-Serif" font-size="11.00">&#45; Gateway behind ALB/WAF (recommended)</text>
<text text-anchor="middle" x="128.5" y="-289.2" font-family="Helvetica,sans-Serif" font-size="11.00">&#45; Or exposed directly to public internet</text>
<text text-anchor="middle" x="128.5" y="-277.2" font-family="Helvetica,sans-Serif" font-size="11.00">(if customer chooses)</text>
</g>
</g>
</svg>
